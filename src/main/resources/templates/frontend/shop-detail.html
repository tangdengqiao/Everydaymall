<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<html>
  <head>
    <title>Home</title>
    <meta charset="utf-8" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,400i,700,700i,900,900i" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="../frontend/css/main.css" />
  </head>
  <body class="animsition">
    <div class="shop-detail-1 woocommerce" id="page">
      <nav id="menu">
        <ul>
          <li><a href="index.html">Home</a></li>
		  <li><a href="shop.html">Shop List</a></li>
		  <li><a href="shop-detail.html">Shop Detail</a><li>
		  <li><a href="wish-list.html">Wishlist</a></li>
		  <li><a href="shop-cart.html">Shop Cart</a></li>
		  <li><a href="check-out.html">Checkout</a></li>
        </ul>
      </nav>
      <header class="header-style-1 static">
        <div class="container">
          <div class="row">
            <div class="header-1-inner">
              <a class="brand-logo animsition-link" href="index.html">
                <img class="img-responsive" src="../frontend/images/logo.png" alt="" />
              </a>
              <nav>
                <ul class="menu hidden-xs">
                  <li><a th:href="@{/home/doFrontendHome}">首页</a></li>
				  <li><a href="shop.html">店铺清单</a></li>
				  <li><a href="shop-detail.html">店铺详情</a><li>
				  <li><a href="wish-list.html">心愿单</a></li>
				  <li><a href="shop-cart.html">购物车</a></li>
				  <li><a href="check-out.html">查看</a></li>
                </ul>
              </nav>
              <aside class="right">
                <div class="widget widget-control-header">
                  <div class="select-custom-wrapper">
                    <select class="no-border">
                      <option>USD</option>
                      <option>VND</option>
                      <option>EUR</option>
                      <option>JPY</option>
                    </select>
                  </div>
                </div>
                <div class="widget widget-control-header widget-search-header">
                  <a class="control btn-open-search-form js-open-search-form-header" href="#">
                    <span class="lnr lnr-magnifier"></span>
                  </a>
                  <div class="form-outer">
                    <button class="btn-close-form-search-header js-close-search-form-header">
                      <span class="lnr lnr-cross"></span>
                    </button>
                    <form>
                      <input placeholder="Search" />
                      <button class="search">
                        <span class="lnr lnr-magnifier"></span>
                      </button>
                    </form>
                  </div>
                </div>
                <div class="widget widget-control-header widget-shop-cart js-widget-shop-cart">
                  <a class="control" href="shop-cart.html">
                    <p class="counter">0</p>
                    <span class="lnr lnr-cart"></span>
                  </a>
                </div>
                <div class="widget widget-control-header hidden-lg hidden-md hidden-sm">
                  <a class="navbar-toggle js-offcanvas-has-events" type="button" href="#menu">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                  </a>
                </div>
              </aside>
            </div>
          </div>
        </div>
      </header>
      <section class="sub-header shop-detail-1">
        <img class="rellax bg-overlay" src="../frontend/images/sub-header/01.jpg" alt="">
        <div class="overlay-call-to-action"></div>
        <h3 class="heading-style-3">商品详情</h3>
      </section>
      <section class="boxed-sm">
        <div class="container">
          <div class="row product-detail">
            <div class="row main">
              <div class="col-md-6">
                <div class="woocommerce-product-gallery">
                  <div class="main-carousel">
                    <div class="item">
                      <img class="img-responsive" th:src="${commodity.commodityPicture}" alt="product thumbnail">
                    </div>
                    <div class="item">
                      <img class="img-responsive" th:src="${commodity.commodityPicture}" alt="product thumbnail">
                    </div>
                    <div class="item">
                      <img class="img-responsive" th:src="${commodity.commodityPicture}" alt="product thumbnail">
                    </div>
                    <div class="item">
                      <img class="img-responsive" th:src="${commodity.commodityPicture}" alt="product thumbnail">
                    </div>
                    <div class="item">
                      <img class="img-responsive" th:src="${commodity.commodityPicture}" alt="product thumbnail">
                    </div>
                  </div>
                  <div class="thumbnail-carousel">
                    <div class="item">
                      <img class="img-responsive" th:src="${commodity.commodityPicture}" alt="product thumbnail">
                    </div>
                    <div class="item">
                      <img class="img-responsive" th:src="${commodity.commodityPicture}" alt="product thumbnail">
                    </div>
                    <div class="item">
                      <img class="img-responsive" th:src="${commodity.commodityPicture}" alt="product thumbnail">
                    </div>
                    <div class="item">
                      <img class="img-responsive" th:src="${commodity.commodityPicture}" alt="product thumbnail">
                    </div>
                    <div class="item">
                      <img class="img-responsive" th:src="${commodity.commodityPicture}" alt="product thumbnail">
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="summary">
                  <div class="desc">
                    <div class="header-desc">
                      <h2 class="product-title">[[${commodity.commodityName}]]</h2>
                      <p class="price">[[${commodity.commodityPrice}]]￥</p>
                    </div>
                    <div class="body-desc">
                      <div class="woocommerce-product-details-short-description">
                        <p>[[${commodity.commodityDescribe}]]</p>
                      </div>
                    </div>
                    <div class="footer-desc">
                      <form class="cart">
                        <div class="quantity buttons-added">
                          <input id="min01" class="minus" value="-" type="button"/>
                          <input id="number01" class="input-text qty text" step="1" min="1" max="" name="quantity" value="1" title="Qty" size="4" pattern="[0-9]*" inputmode="numeric" type="number" />
                          <input id="add01" class="plus" value="+" type="button"/>
                        </div>
                        <a th:onclick="saveShoppingcart01([[${commodity.idIndex}]])" class="btn btn-brand no-radius">添加到购物车</a>
                        <button class="btn btn-wishlist btn-brand-ghost no-radius">
                          <i class="fa fa-heart"></i>
                        </button>
                      </form>
                    </div>
                  </div>
                  <div class="product-meta">
                    <p class="posted-in">分类:
                      <a href="#" rel="tag">[[${commodityType.typeName}]]</a>
                    </p>
                    <p class="tagged-as">标签:
                      <a  rel="tag">[[${commodityType.typeLabel}]]</a>,
                    </p>
                    <p class="id">编号:
                      <a href="#">[[${commodity.idIndex}]]</a>
                    </p>
                  </div>
                  <div class="widget-social align-left">
                    <ul>
                      <li>
                        <a class="facebook" data-toggle="tooltip" title="Facebook" href="http://www.facebook.com/authemes">
                          <i class="fa fa-facebook"></i>
                        </a>
                      </li>
                      <li>
                        <a class="pinterest" data-toggle="tooltip" title="Pinterest" href="http://www.pinterest.com/authemes">
                          <i class="fa fa-pinterest"></i>
                        </a>
                      </li>
                      <li>
                        <a class="twitter" data-toggle="tooltip" title="Twitter" href="http://www.twitter.com/authemes">
                          <i class="fa fa-twitter"></i>
                        </a>
                      </li>
                      <li>
                        <a class="google-plus" data-toggle="tooltip" title="Google Plus" href="https://plus.google.com/authemes">
                          <i class="fa fa-google-plus"></i>
                        </a>
                      </li>
                      <li>
                        <a class="instagram" data-toggle="tooltip" title="Instagram" href="https://instagram.com/authemes">
                          <i class="fa fa-instagram"></i>
                        </a>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="woocommerce-tabs">
            <div class="row">
              <div class="col-md-6">
                <div class="tab-content tab-content-style-1">
                  <div class="tab-pane fade" id="Review" role="tabpanel">
                    <h3 class="title-tab" >该商品评论共有[[${commentNumber}]]篇</h3>
                    <ol class="comment-list">
                      <li th:each="listComment:${listComment}" >
                        <div class="the-comment">
                          <div class="avatar" th:each="listUsers:${listUsers}">
                            <img  th:if="${listComment.commentCreateby} eq ${listUsers.idUser}"  class="avatar" alt="avatar" th:src="${listUsers.userHeadportrait}">
                          </div>
                          <div class="comment-box">
                            <div class="comment-author meta">
                              <p class="author" th:each="listUsers:${listUsers}" th:if="${listComment.commentCreateby} eq ${listUsers.idUser}">[[${listUsers.userName}]]</p>
                              <p class="time">[[${listComment.commentCreatetime}]]</p>
                            </div>
                            <div class="comment-text">
                              <p>[[${listComment.commentContent}]]</p>
                            </div>
                          </div>
                        </div>
                      </li>
                    </ol>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <ul class="tabs tab-style-1" role="tablist">
                  
                  <li  role="presentation">
                    <a href="#Review" aria-controls="Review" role="tab" data-toggle="tab">评论 ([[${commentNumber}]])
                      <i class="more-less fa fa-angle-down"></i>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="container">
          <div class="relate-product">
            <div class="heading-wrapper text-center">
              <h3 class="heading">相关产品</h3>
            </div>
            <div class="row">
              <div class="carousel-product">
                <div class="item" th:each="listCommodity:${listCommodity}">
                  <figure class="item">
                    <div class="product product-style-1">
                      <div class="img-wrapper">
                    <a>
                      <img th:onclick="javascript:doFrontendShopDetail([[${listCommodity.idCommodity}]]);"  class="img-responsive" th:src="${listCommodity.commodityPicture}" alt="product thumbnail" />
                    </a>
                     <div class="product-control-wrapper bottom-right">
                      <div class="wrapper-control-item">
                        <a  th:onclick="javascript:myCommodityDetails([[${listCommodity.idIndex}]]);"  class="js-quick-view" type="button" data-toggle="modal" data-target="#quick-view-product">
                          <span class="lnr lnr-eye"></span>
                        </a>
                      </div>
                      <div th:onclick="javascript:saveCollection([[${listCommodity.idCommodity}]]);" class="wrapper-control-item item-wish-list">
                        <a  class="js-wish-list js-notify-add-wish-list">
                          <span class="lnr lnr-heart"></span>
                        </a>
                      </div>
                      <div  class="wrapper-control-item item-add-cart js-action-add-cart">
                        <a class="animate-icon-cart">
                          <span class="lnr lnr-cart"></span>
                        </a>
                        <svg x="0px" y="0px" width="36px" height="32px" viewbox="0 0 36 32">
                          <path stroke-dasharray="19.79 19.79" fill="none" ,="," stroke-width="2" stroke-linecap="square" stroke-miterlimit="10" d="M9,17l3.9,3.9c0.1,0.1,0.2,0.1,0.3,0L23,11"></path>
                        </svg>
                      </div>
                    </div>
                    <figcaption class="desc">
                      <h3>
                        <a class="product-name" href="#">[[${listCommodity.commodityName}]]</a>
                      </h3>
                      <span class="price">[[${listCommodity.commodityPrice}]]￥</span>
                    </figcaption>
                  </div>
                  </figure>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
    <footer class="footer-style-1">
      <div class="container">
        <div class="row">
          <div class="footer-style-1-inner">
            <div class="widget-footer widget-text col-first col-small">
              <a href="#">
                <img class="logo-footer" src="../frontend/images/logo.png" alt="Logo Organic" />
              </a>
              <div class="widget-link">
                <ul>
                  <li>
                    <span class="lnr lnr-map-marker icon"></span>
                    <span>379 5th Ave New York, NYC 10018</span>
                  </li>
                  <li>
                    <span class="lnr lnr-phone-handset icon"></span>
                    <a href="tel:0123456789">(+1) 96 716 6879</a>
                  </li>
                  <li>
                    <span class="lnr lnr-envelope icon"></span>
                    <a href="mailto: contact@site.com">contact@site.com </a>
                  </li>
                </ul>
              </div>
            </div>
            <div class="widget-footer widget-link col-second col-medium">
              <div class="list-link">
                <h4 class="h4 heading">店</h4>
                <ul>
                  <li>
                    <a href="#">餐饮</a>
                  </li>
                  <li>
                    <a href="#">农场</a>
                  </li>
                  <li>
                    <a href="#">健康</a>
                  </li>
                  <li>
                    <a href="#">有机</a>
                  </li>
                </ul>
              </div>
              <div class="list-link">
                <h4 class="h4 heading">支持</h4>
                <ul>
                  <li>
                    <a href="#">联系我们</a>
                  </li>
                  <li>
                    <a href="#">常见问题</a>
                  </li>
                  <li>
                    <a href="#">隐私政策</a>
                  </li>
                  <li>
                    <a href="#">博客</a>
                  </li>
                </ul>
              </div>
              <div class="list-link">
                <h4 class="h4 heading">我的账户</h4>
                <ul>
                  <li>
                    <a href="#">登入</a>
                  </li>
                  <li>
                    <a href="#">我的购物车</a>
                  </li>
                  <li>
                    <a href="#">我的收藏</a>
                  </li>
                  <li>
                    <a href="#">查看</a>
                  </li>
                </ul>
              </div>
            </div>
            <div class="widget-footer widget-newsletter-footer col-last col-small">
              <h4 class="h4 heading">通讯</h4>
              <p>立即订阅以获取每日更新</p>
              <form class="organic-form form-inline btn-add-on circle border">
                <div class="form-group">
                  <input class="form-control pill transparent" placeholder="Your Email..." type="email" />
                  <button class="btn btn-brand circle" type="submit">
                    <i class="fa fa-envelope-o"></i>
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
      <div class="copy-right style-1">
        <div class="container">
          <div class="row">
            <div class="copy-right-inner">
              <p>版权所有©2019由tangdengqiao设计.版权所有.</p>
              <div class="widget widget-footer widget-footer-creadit-card">
                <ul class="list-unstyle">
                  <li>
                    <a href="#">
                      <img src="../frontend/images/icons/creadit-card-01.png" alt="creadit card" />
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <img src="../frontend/images/icons/creadit-card-02.png" alt="creadit card" />
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <img src="../frontend/images/icons/creadit-card-03.png" alt="creadit card" />
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <img src="../frontend/images/icons/creadit-card-04.png" alt="creadit card" />
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </footer>
    <div class="modal fade" id="quick-view-product" tabindex="-1" role="dialog">
      <div class="modal-dialog modal-lg modal-quickview woocommerce" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">×</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="col-md-6">
                <div class="woocommerce-product-gallery">
                  <div class="main-carousel-product-quick-view">
                    <div class="item item01">
                    </div>
                    <div class="item item01">
                    </div>
                    <div class="item item01">
                    </div>
                    <div class="item item01">
                    </div>
                    <div class="item item01">
                    </div>
                  </div>
                  <div class="thumbnail-carousel-product-quickview">
                    <div class="item item01">
                    </div>
                    <div class="item item01">
                    </div>
                    <div class="item item01">
                    </div>
                    <div class="item item01">
                    </div>
                    <div class="item item01">
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="summary">
                  <div class="desc">
                    <div id="header-desc" class="header-desc">
          
                    </div>
                    <div class="body-desc">
                      <div id="woocommerce-product-details-short-description" class="woocommerce-product-details-short-description">
                        
                      </div>
                    </div>
                    <div class="footer-desc">
                      <form class="cart">
                        <div class="quantity buttons-added">
                          <input id="min" class="minus" value="-" type="button"/>
                          <input id="number" class="input-text qty text" step="1" min="1" max="" name="quantity" value="1" title="Qty" size="4" pattern="[0-9]*" inputmode="numeric" type="number" />
                          <input id="add" class="plus" value="+" type="button"/>
                        </div>
                        <div id="group-btn-control-wrapper" class="group-btn-control-wrapper">
                          
                        </div>
                      </form>
                    </div>
                  </div>
                  <div class="product-meta">
                    <p id="posted-in" class="posted-in">
                    </p>
                     <p id="tagged-as" class="tagged-as">
                    </p>
                    <p id="id" class="id">
                     
                    </p>
                  </div>
                  <div class="widget-social align-left">
                    <ul>
                      <li>
                        <a class="facebook" data-toggle="tooltip" title="Facebook" href="http://www.facebook.com/authemes">
                          <i class="fa fa-facebook"></i>
                        </a>
                      </li>
                      <li>
                        <a class="pinterest" data-toggle="tooltip" title="Pinterest" href="http://www.pinterest.com/authemes">
                          <i class="fa fa-pinterest"></i>
                        </a>
                      </li>
                      <li>
                        <a class="twitter" data-toggle="tooltip" title="Twitter" href="http://www.twitter.com/authemes">
                          <i class="fa fa-twitter"></i>
                        </a>
                      </li>
                      <li>
                        <a class="google-plus" data-toggle="tooltip" title="Google Plus" href="https://plus.google.com/authemes">
                          <i class="fa fa-google-plus"></i>
                        </a>
                      </li>
                      <li>
                        <a class="instagram" data-toggle="tooltip" title="Instagram" href="https://instagram.com/authemes">
                          <i class="fa fa-instagram"></i>
                        </a>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="../frontend/js/library/jquery.min.js"></script>
    <script src="../frontend/js/library/bootstrap.min.js"></script>
    <script src="../frontend/js/function-check-viewport.js"></script>
    <script src="../frontend/js/library/slick.min.js"></script>
    <script src="../frontend/js/library/select2.full.min.js"></script>
    <script src="../frontend/js/library/imagesloaded.pkgd.min.js"></script>
    <script src="../frontend/js/library/jquery.mmenu.all.min.js"></script>
    <script src="../frontend/js/library/rellax.min.js"></script>
    <script src="../frontend/js/library/isotope.pkgd.min.js"></script>
    <script src="../frontend/js/library/bootstrap-notify.min.js"></script>
    <script src="../frontend/js/library/bootstrap-slider.js"></script>
    <script src="../frontend/js/library/in-view.min.js"></script>
    <script src="../frontend/js/library/countUp.js"></script>
    <script src="../frontend/js/library/animsition.min.js"></script>
    <script src="../frontend/js/global.js"></script>
    <script src="../frontend/js/config-mm-menu.js"></script>
    <script src="../frontend/js/config-carousel.js">


    </script>
    <script src="../frontend/js/config-carousel-thumbnail.js">


    </script>
    <script src="../frontend/js/config-carousel-product-quickview.js"></script>
    <!-- Demo Only-->
    <script src="../frontend/js/demo-add-to-cart.js">


    </script>
    <script type="text/javascript" th:inline="javascript">
    function myCommodityDetails(idIndex){
    	$.ajax({
			url : [[@{/home/selectCommodity}]],
			dataType : 'json',
			type : 'POST',
			data : {idIndex:idIndex},
			cache : false,
			success : function(list) {
		        for (var i = 0; i < list.length; i++) {
		        		
				/* 商品名和价格 */
				var headerdesc='<h2 class="product-title">'+list[0].commodityName+'</h2><p class="price">'+list[0].commodityPrice+'￥</p>';
				$("#header-desc").html(headerdesc);
				
				/* 描述 */
				var woocommerceproductdetailsshortdescription='<p>'+list[0].commodityDescribe+'.</p>';
				$("#woocommerce-product-details-short-description").html(woocommerceproductdetailsshortdescription);
				
				/* 图片 */
				var item01='<img class="img-responsive" src="'+list[0].commodityPicture+'" alt="product thumbnail" />';
				$(".item01").html(item01); 
				
				
				$(".group-btn-control-wrapper").html(item01); 
				/* 分类 、标签 */
				var typeName;
				var typeLabel;
				for(var j = 0; j < list[1].length; j++){
					if(list[0].commodityType==list[1][j].idType){
						typeName=list[1][j].typeName;
						typeLabel=list[1][j].typeLabel;
					}
				}	
				var postedin='分类:<a rel="tag">'+typeName+'</a>';
				$("#posted-in").html(postedin);
				
				var taggedas='标签:<a rel="tag">'+typeLabel+'</a>'
				$("#tagged-as").html(taggedas);
				
				/* 编号 */
				var id='编号:<a>'+list[0].idIndex+'</a>';
				$("#id").html(id); 
				
				/* 增加购物车 */
		        var groupbtncontrolwrapper='<a  onclick="saveShoppingcart('+list[0].idIndex+')" class="btn btn-brand no-radius">添加到购物车</a><button class="btn btn-wishlist btn-brand-ghost no-radius"><i class="fa fa-heart"></i></button>';
		        $(".group-btn-control-wrapper").html(groupbtncontrolwrapper); 
		        }
			},
			error : function(data) {
				console.log(data);
			}
		});
    }
    
    //收藏
    function saveCollection(idCommodity){
    	$.ajax({
			url : [[@{/home/saveCollection}]],
			dataType : 'json',
			type : 'POST',
			data : {idCommodity:idCommodity},
			cache : false,
			success : function(data) {
				if (data.status == 200) {
					alert(data.message);
				} else {
					alert(data.message);
				}
			},
			error : function(data) {
				console.log(data);
			}
		});
    }
    
    //详情页面ajax数量增加操作
     $("#add").click(function(){
    	$('#number').val(parseInt($('#number').val())+1);
     })
    
  	//详情页面ajax数量减少操作
     $("#min").click(function(){
    	$('#number').val(parseInt($('#number').val())-1)
        if(parseInt($("#number").val())==0){
        	$('#number').val(parseInt($('#number').val())+1);
        }
     })
    
    //详情页面数量增加操作
     $("#add01").click(function(){
    	$('#number01').val(parseInt($('#number01').val())+1);
     })
    
  	//详情页面数量减少操作
     $("#min01").click(function(){
    	$('#number01').val(parseInt($('#number01').val())-1)
        if(parseInt($("#number01").val())==0){
        	$('#number01').val(parseInt($('#number01').val())+1);
        }
     })
    
    //详情页面ajax增加购物车
    function saveShoppingcart(idIndex){
    	var number=$('#number').val();
    	$.ajax({
			url : [[@{/home/saveShoppingcart}]],
			dataType : 'json',
			type : 'POST',
			data : {idIndex:idIndex,number:number},
			cache : false,
			success : function(data) {
				if (data.status == 200) {
					alert(data.message);
				} else {
					alert(data.message);
				}
			},
			error : function(data) {
				console.log(data);
			}
    	});
	}
    
  	//详情页面增加购物车
    function saveShoppingcart01(idIndex){
    	var number=$('#number01').val();
    	$.ajax({
			url : [[@{/home/saveShoppingcart}]],
			dataType : 'json',
			type : 'POST',
			data : {idIndex:idIndex,number:number},
			cache : false,
			success : function(data) {
				if (data.status == 200) {
					alert(data.message);
				} else {
					alert(data.message);
				}
			},
			error : function(data) {
				console.log(data);
			}
    	});
	}
    
  //跳转商品详情方法
    function doFrontendShopDetail(idCommodity){
    	window.location.href=[[@{/commoditydetails/doFrontendShopDetail}]]+"?idCommodity="+idCommodity;
    }
    </script>
  </body>
</html>

